---
title: Supplementary materials
output:
  bookdown::pdf_document2:
    toc: true
---
```{r inherited-diversity-config, include=FALSE}
library(knitr)
library(kableExtra)
opts_chunk$set(echo=FALSE, cache=TRUE, message=FALSE, warning=FALSE, results="hide",
               fig.height=4, fig.width=4)
chunks_dir <- "R"
read_chunk(file.path(chunks_dir, "inherited-diversity.R"))

library(crotchet)
read_graphviz_chunk("team-structures-instructions", package = "gems",
                    new_name = "gems-team-structures-instructions")
read_graphviz_chunk("team-structures-generations", package = "gems",
                    new_name = "gems-team-structures-generations")
```

# Methods

## Materials

### Gabors

(ref:gabors) Sampled space of possible gabor patches. Gabor patches varied
in orientation and spatial frequency.

```{r gabors, fig.cap="(ref:gabors)"}
draw_image("SimpleHillGems", package = "gems")
```

### Post experiment survey

(ref:survey-questions) Questions asked in the post-experiment survey.

```{r survey-questions, results='asis'}
data("Survey")
data_frame(question_text = colnames(Survey)) %>%
  mutate(question_id = c("timestamp", "subj_id", "computer", "age", "gender", paste0("Q", 1:9))) %>%
  filter(grepl("Q", question_id)) %>%
  select(`#` = question_id, `Text` = question_text) %>%
  kable(caption="(ref:survey-questions)") %>%
  column_spec(2, width = "45em")
```

## Procedure

(ref:training) Exact instructions given to participants in either training condition. The instructions differ in the first paragraph and in the sample gabors shown
on the screen.

```{r training, fig.width=8, fig.cap="(ref:training)"}
gridExtra::grid.arrange(
  crotchet::read_image("training_orientation", package = "gems"),
  crotchet::read_image("training_spatial_frequency", package = "gems"),
  nrow = 1
)
```

(ref:training-trial) Training trial procedure. Participants received
feedback in the form of relative changes in their score for each of
the six stimuli on a trial.

```{r training-trial, fig.width=8, fig.cap="(ref:training-trial)"}
gridExtra::grid.arrange(
  crotchet::read_image("training_trial", package = "gems"),
  crotchet::read_image("training_trial_feedback", package = "gems"),
  nrow = 1
)
```

(ref:test-trial) Test trial procedure. Participants received feedback in the
form of the relative change in their score after each selection.

```{r test-trial, fig.width=8, fig.cap="(ref:test-trial)"}
gridExtra::grid.arrange(
  crotchet::read_image("test_trial", package = "gems"),
  crotchet::read_image("test_trial_feedback", package = "gems"),
  nrow = 1
)
```