---
title: Inherited instructions
output:
  bookdown::pdf_document2:
    toc: no
    number_sections: no
  github_document:
    toc: yes
    toc_depth: 3
---
```{r config, include=FALSE}
library(knitr)
opts_chunk$set(echo=FALSE, message=FALSE, warning=FALSE, cache=TRUE)
read_chunk("R/inherited-instructions.R")
read_chunk("R/supplemental-v1-4.R")
read_chunk("R/supplemental-v1-5.R")

library(patchwork)
library(pander)
panderOptions("table.alignment.default", "left")
```
```{r inherited-instructions, include=FALSE}
```

# Introduction

## Research question

Can individuals pass on knowledge via language that enables future generations
to exceed previous generations?

# Methods

## Participants

Participants were assigned to the first or second generation of a two-generation
transmission chain. Generation 1 participants completed the task naively,
without receiving instructions about what makes some gems more valuable. After
one block of trials, these participants wrote down a description of what makes
some gems more valuable that would be helpful to the next generation.
Participants assigned to the second generation inherited these instructions, and
read them before completing their trials. After one block of trials, participants
in generation 2 wrote down a description of what makes some gems more valuable,
and completed a second block of trials.

```{r participants, results="asis"}
Gems %>%
  select(subj_id, generation) %>%
  unique() %>%
  count(generation) %>%
  pandoc.table()
```

## Materials

Participants learned to categorize visual stimuli on the basis of two
visual dimensions. The stimuli were sinusoidal gabor patches that varied in
orientation and spatial frequency. Participants were told to think of each gabor
patch as a "gem" and that their task was to find the most valuable gems.
The value of each gem was determined by its orientation and spatial frequency.

```{r solution-space, fig.width=8}
gridExtra::grid.arrange(
  crotchet::read_image("SimpleHillGems", package = "gems"),
  simple_hill_landscape,
  nrow = 1,
  widths = c(0.4, 0.6)
)
```

## Procedure

On each trial, participants are presented 6 gabor patches ("gems") that vary in
orientation and spatial frequency, and they select one expected to be the
most valuable. After selecting a gem, they receive feedback about its value
relative to the value of the gem they selected on the previous trial. For
example, a participant might learn that the gem they selected was worth +3
more than their previous one. They are also shown their new total score, a number
between 0 and 100.

```{r procedure, fig.width=8}
gridExtra::grid.arrange(
  crotchet::read_image("inherited-instructions-trial", package = "gems"),
  trial_plot,
  nrow = 1
)
```

# Results

## Overall

```{r overall, fig.width=6}
score_by_block_plot
```

## Instructions

```{r instructions-coded, fig.width=8, fig.height=3, fig.cap="Distribution of instructions generated by all participants."}
instructions_coded_plot + instructions_summarized_plot + plot_layout(nrow = 1)
```

```{r instructions-outcomes, fig.width=8, fig.height=4, fig.cap="Correlation between score in block 1 and instruction quality. Participants who generated better instructions tended to do better in the task."}
instruction_quality_and_performance_plot + instruction_quality_and_final_performance_plot + plot_layout(nrow = 1, widths = c(0.6, 0.4))
```

## Inherited instructions

**Are instructions better than no instructions?** Participants in Generation 2
will benefit from accurate instructions in block 1 relative to naive
participants in Generation 1, block 1.

**Are instructions better than one block of training?** Participants in
Generation 2 will benefit from accurate instructions relative to how
participants in Generation 1 perform _after_ generating the instructions.

```{r block1-by-instructions-type, fig.width=6, fig.height=4}
instructions_versus_no_instructions_plot
```

```{r diff, fig.width=6, fig.height=6}
diff_plot + overall_diff_plot + plot_layout(nrow = 2)
```

## 1D landscape

```{r v1-4, include=FALSE}
```

```{r v1-4-positions, fig.width=6, fig.height=4}
```

```{r v1-4-scores, fig.width=6, fig.height=4}
```


## Optimal instructions

```{r v1-5, fig.width=8}
```

# Discussion

# References